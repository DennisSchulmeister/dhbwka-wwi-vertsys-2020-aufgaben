<!DOCTYPE html>
<html lang="de">
    <head>
        <meta charset="utf-8" />
        <title>🙂 Aufgabe: Alle meine Stromkreise</title>
        <link rel="stylesheet" href="style.css" />

        <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.css" rel="stylesheet" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/components/prism-core.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/plugins/autoloader/prism-autoloader.min.js"></script>
    </head>
    <body>
        <div class="container">
            <h1>Entwicklung von REST-Webservices</h1>
            <h2>Übungsaufgabe „Alle meine Stromkreise” 📺</h2>
        </div>

        <div class="container">
            <p>
                <b>Alle meine Stromkreise</b> ist der Name einer beliebten Daily Soap aus <b>Futurama</b> mit der berühmten
                Schauspieleinheit <b>Calculon</b> (in der heutigen Zeit eher bekannt als <b>David Duchovny</b> aus <b>Akte X</b>
                oder <b>Californication</b>) in der Hauptrolle. Leider wird die Serie erst ab dem Jahr 3000 ausgestrahlt, so
                dass wir uns bis dahin mit dem Fernsehprogramm der heutigen Zeit begnügen müssen. Doch auch heute gibt es ja
                genügend gute Serien, mit denen man sich die ein oder andere Nacht um die Ohren schlagen kann. 🛋️ In dieser
                Aufgabe soll es deshalb darum gehen, eine kleine Datenbank zur Verwaltung unserer Lieblingsserien zu programmieren.
            </p>
            <table>
               <tr>
                   <td style="max-width: 50%; padding-bottom: 0.5em;">
                       <a href="screenshot1.png" target="_blank">
                           <img src="screenshot1.png" alt="Screenshot 1" style="max-width: 100%;" />
                       </a>
                   </td>
                   <td style="max-width: 50%; padding-bottom: 0.5em;">
                       <a href="screenshot2.png" target="_blank">
                           <img src="screenshot2.png" alt="Screenshot 2" style="max-width: 100%;" />
                       </a>
                   </td>
               </tr>
               <tr>
                   <td style="max-width: 50%;">
                       <a href="screenshot3.png" target="_blank">
                           <img src="screenshot3.png" alt="Screenshot 3" style="max-width: 100%;" />
                       </a>
                   </td>
                   <td style="max-width: 50%;">
                       <a href="screenshot4.png" target="_blank">
                           <img src="screenshot4.png" alt="Screenshot 4" style="max-width: 100%;" />
                       </a>
                   </td>
               </tr>
           </table>
        </div>

        <div class="container">
            <h2>REST-Backendservice</h2>
            <p>
                1) Zunächst soll in Spring ein Backsendservice programmiert werden, der es ermöglicht,
                über einen REST-Webservice auf die Daten der Anwendung zuzugreifen.
                Hierfür soll auf <a href="https://start.spring.io" target="_blank">start.spring.io</a>
                ein Springboot-Projekt mit folgenden Komponenten angelegt werden:
            </p>
            <ul>
                <li>
                    Lombok
                </li>
                <li>
                    Spring Web
                </li>
                <li>
                    Rest Repositories
                </li>
                <li>
                    Rest Repositories HAL Explorer
                </li>
                <li>
                    Spring HATEOAS
                </li>
                <li>
                    Spring Data JPA
                </li>
                <li>
                    Validation
                </li>
                <li>
                    H2 Database
                </li>
            </ul>
            <p>
                2) Die Anwendung soll, wie in den Folien gezeigt, über die Datei <tt>applications.properties</tt>
                so konfiguriert werden, dass der REST-Webservice unter der Adresse
                <a href="http://localhost:8080/api" target="_blank">http://localhost:8080/api</a> aufrufbar ist.
                Folgendes Datenmodell soll implementiert werden:
            </p>
            <!--
            <div>
                <a href="datenmodell.png" target="_blank">
                   <img src="datenmodell.png" alt="Datenmodell" style="max-width: calc(100% - 1em); padding: 0.5em; background: white;" />
               </a>
            </div>
            -->
            <ul>
                <li>
                    Es kann mehrere <b>Streamingdienste</b> geben.
                </li>
                <li>
                    Jeder Streamingdienst bietet mehrere <b>Serien und Filme</b>.
                </li>
                <li>
                    Jede Serie besitzt mehrere <b>Episoden</b> in verschiedenen <b>Staffeln</b>.
                </li>
            </ul>
            <p>
                Zu jeder Entität sind geeignete Attribute wie zum Beispiel der Name der Serie, Studio,
                Jahr der Erstausstrahlung und so weiter zu definieren. Beachte dabei, dass es mehrere
                Möglichkeiten gibt, die Daten zu modellieren, von denen keine notwendigerweise besser
                als die andere sein muss.
            </p>
            <p>
                3) Sorge dafür, dass, wie in den Folien gezeigt, mit einem
                im Quellcode hinterlegten SQL-Skript automatisch Testdaten angelegt werden.
            </p>
            <p>
                4) Teste den Webserivce mit der eingebauten Weboberfläche oder mit Postman 📨, um zu zeigen,
                dass er funktioniert. Der Test soll mit Screenshots dokumentiert werden.
            </p>
        </div>

        <div class="container">
            <h2>Clientseitige Webanwendung</h2>
            <p>
                Im nächsten Schritt soll eine kleine Webanwendung zum Aufruf des Webservices entwickelt werden.
                Die Anwendung muss nicht so ausgefeilt wie in den Screenshots sein. Im Gegenteil: Ein kleiner
                Proof of Concept 📝 reicht bereits völlig aus. Jedoch sollte die Webanwendung zeigen, wie die
                Verfügbaren Streaming-Dienste sowie für einen Streaming-Dienst die verfügbaren Serien und zu
                einer Serie die verfügbaren Episoden abgerufen und dargestellt werden können.
            </p>
            <p>
                Die Webanwendung kann der Einfachheit halber im <tt>static</tt>-Verzeichnis des Java-Projekts
                angelegt werden.
            </p>
        </div>

        <div class="container">
            <h2>Bonuspunkte</h2>
            <p>
                Folgende Extras sind freiwillig, werten die Lösung aber nochmal deutlich auf: 💯
            </p>
            <ul class="spacing">
                <li>
                    Entwurf des Webclients nach dem HATEOAS-Prinzip
                </li>
                <li>
                    Ansprechendes, responsives Layout 📱 der Webseite
                </li>
                <li>
                    Abruf eines Vorschaubilds 📷 anhand der <a href="http://www.omdbapi.com/" target="_blank">OMDb API</a>,
                    wie in den Screenshots gezeigt.
                </li>
            </ul>
        </div>

        <div class="container">
            <h2>Hinweise</h2>
            <p>
                Die Char-Felder im Datenmodell werden in Java als ganz normale String-Felder definiert.
                Mit der Annotation <tt>@Column(length = ...)</tt> kann deren technische Länge in der
                Datenbank begrenzt werden.
            </p>
            <p>
                Einfache Fremdschlüsselbeziehungen können in Java wie folgt definiert werden:
            </p>
<pre><code class="language-java">@Entity
@Data
public class Series implements Serializable {
    ...

    @ManyToOne
    private StreamingService streamingService = null;
}

@Entity
@Data
public class StreamingService implements Serializable {
    ...
}</code></pre>
            <p>
                Wahlweise kann die Beziehung auch bidirektional definiert werden, wodurch der Webservice
                später eine Navigation in beide Richtungen erlauben wird:
            </p>
<pre><code class="language-java">@Entity
@Data
public class Series implements Serializable {
    ...

    @ManyToOne
    private StreamingService streamingService = null;
}

@Entity
@Data
public class StreamingService implements Serializable {
    ...
    @OneToMany(mapped_by = "streamingService")
    List&lt;Series&gt; serieses = new ArrayList<>();
}</code></pre>
            <p>
                Die IMDB-ID für Serien und Episoden wird benötigt, um in der Bonusaufgabe Bilder
                von IMDB abrufen zu können. Sie entspricht dem unten rot unterstrichenen Teil der
                IMDB-URL, wenn man dort eine Serie oder Episode aufruft:
            </p>
            <p>
                <a href="https://www.imdb.com/title/tt4786824/?ref_=fn_al_tt_1" target="_blank"><tt>https://www.imdb.com/title/<u style="color: red;">tt4786824</u>/?ref_=fn_al_tt_1</tt></a>
            </p>
        </div>
    </body>
</html>
